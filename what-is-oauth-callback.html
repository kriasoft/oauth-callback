<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>What is OAuth Callback? | üîê ¬†OAuth Callback</title>
    <meta name="description" content="Learn how OAuth Callback simplifies OAuth 2.0 authorization code capture for CLI tools, desktop apps, and MCP clients using localhost callbacks.">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/oauth-callback/assets/style.BD9RMcwd.css" as="style">
    <link rel="preload stylesheet" href="/oauth-callback/vp-icons.css" as="style">
    
    <script type="module" src="/oauth-callback/assets/app.D0tR7Pmc.js"></script>
    <link rel="preload" href="/oauth-callback/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/framework.B4Qey3Xv.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/theme.D9oejmYA.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/katex.ChWnQ-fc.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/dagre-JOIXM2OF.0U8W5yXO.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/c4Diagram-6F6E4RAY.ubBejL2j.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/flowDiagram-KYDEHFYC.fU-df23O.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/erDiagram-3M52JZNH.C0F28RL4.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/gitGraphDiagram-GW3U2K7C.CKF1nD0w.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/ganttDiagram-EK5VF46D.BKGEteSt.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/infoDiagram-LHK5PUON.on4hIHot.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/pieDiagram-NIOCPIFQ.C82X0_Rd.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/quadrantDiagram-2OG54O6I.DDLMkrC9.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/xychartDiagram-H2YORKM3.B5b4gtOQ.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/requirementDiagram-QOLK2EJ7.D_xst4iK.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/sequenceDiagram-SKLFT4DO.B_RRB0US.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/classDiagram-M3E45YP4.8HuvX-2v.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/classDiagram-v2-YAWTLIQI.8HuvX-2v.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/stateDiagram-MI5ZYTHO.BWkC9fV1.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/stateDiagram-v2-5AN5P6BG.BZvOuOYO.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/journeyDiagram-EWQZEKCU.Hp8xxtLe.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/timeline-definition-MYPXXCX6.DqwCdVBr.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/mindmap-definition-6CBA2TL7.BNDzugiF.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/kanban-definition-ZSS6B67P.C2rOIOfB.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/sankeyDiagram-4UZDY2LN.75G_QLDL.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/diagram-5UYTHUR4.Bizsw7pb.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/diagram-ZTM2IBQH.C-y_2h4D.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/blockDiagram-6J76NXCF.BS7W0xoX.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/architectureDiagram-SUXI7LT5.DJHjnssV.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/diagram-VMROVX33.t5C9ZDFz.js">
    <link rel="modulepreload" href="/oauth-callback/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/oauth-callback/assets/what-is-oauth-callback.md.hB3k2QdK.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/oauth-callback/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>üîê ¬†OAuth Callback</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/oauth-callback/getting-started.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/oauth-callback/api/get-auth-code.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/oauth-callback/examples/notion.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Examples</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>v1.2.0</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link vp-external-link-icon" href="https://github.com/kriasoft/oauth-callback/releases" target="_blank" rel="noreferrer" data-v-35975db6><!--[--><span data-v-35975db6>Release Notes</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link vp-external-link-icon" href="https://www.npmjs.com/package/oauth-callback" target="_blank" rel="noreferrer" data-v-35975db6><!--[--><span data-v-35975db6>npm</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kriasoft/oauth-callback" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.npmjs.com/package/oauth-callback" aria-label="npm" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-npm"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/bSsv7XM" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-discord"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kriasoft/oauth-callback" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.npmjs.com/package/oauth-callback" aria-label="npm" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-npm"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/bSsv7XM" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-discord"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Introduction</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/what-is-oauth-callback.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>What is OAuth Callback?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/getting-started.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/core-concepts.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Core Concepts</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>API Reference</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/api/get-auth-code.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>getAuthCode</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/api/browser-auth.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>browserAuth</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/api/storage-providers.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Storage Providers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/api/oauth-error.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>OAuthError</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/api/types.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>TypeScript Types</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Examples</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/examples/notion.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Notion MCP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/oauth-callback/examples/linear.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Linear MCP</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _oauth-callback_what-is-oauth-callback" data-v-39a288b8><div><h1 id="top" tabindex="-1">What is OAuth Callback? <a class="header-anchor" href="#top" aria-label="Permalink to &quot;What is OAuth Callback? {#top}&quot;">‚Äã</a></h1><p>An OAuth callback is the mechanism that allows OAuth 2.0 authorization servers to return authorization codes to your application after user authentication. For native applications like CLI tools, desktop apps, and MCP clients, receiving this callback requires spinning up a temporary HTTP server on localhost ‚Äî a process that <strong>OAuth Callback</strong> makes trivially simple with just one function call.</p><p><strong>OAuth Callback</strong> is designed for developers building CLI tools, desktop applications, automation scripts, and Model Context Protocol (MCP) clients that need to capture OAuth authorization codes via a localhost callback. Whether you&#39;re automating workflows across services (Notion, Linear, GitHub), building developer tools, or creating MCP-enabled applications, <strong>OAuth Callback</strong> handles the complexity of the loopback redirect flow recommended by <a href="https://www.rfc-editor.org/rfc/rfc8252.html" target="_blank" rel="noreferrer">RFC 8252</a> while providing modern features like Dynamic Client Registration and flexible token storage ‚Äî all with support for Node.js 18+, Deno, and Bun.</p><h2 id="understanding-oauth-callbacks" tabindex="-1">Understanding OAuth Callbacks <a class="header-anchor" href="#understanding-oauth-callbacks" aria-label="Permalink to &quot;Understanding OAuth Callbacks&quot;">‚Äã</a></h2><h3 id="what-is-a-callback-url-in-oauth-2-0" tabindex="-1">What is a Callback URL in OAuth 2.0? <a class="header-anchor" href="#what-is-a-callback-url-in-oauth-2-0" aria-label="Permalink to &quot;What is a Callback URL in OAuth 2.0?&quot;">‚Äã</a></h3><p>In the OAuth 2.0 authorization code flow, the callback URL (also called redirect URI) is where the authorization server sends the user&#39;s browser after they approve or deny your application&#39;s access request. This URL receives critical information:</p><ul><li><strong>On success</strong>: An authorization <code>code</code> parameter that your app exchanges for access tokens</li><li><strong>On failure</strong>: An <code>error</code> parameter describing what went wrong</li><li><strong>Security parameters</strong>: The <code>state</code> value for CSRF protection</li></ul><p>For web applications, this callback is typically a route on your server. But for native applications without a public web server, you need a different approach.</p><h3 id="the-loopback-redirect-pattern" tabindex="-1">The Loopback Redirect Pattern <a class="header-anchor" href="#the-loopback-redirect-pattern" aria-label="Permalink to &quot;The Loopback Redirect Pattern&quot;">‚Äã</a></h3><p>Native applications (CLIs, desktop apps) can&#39;t expose public URLs for callbacks. Instead, they use the <strong>loopback interface</strong> ‚Äî a temporary HTTP server on <code>http://localhost</code> or <code>http://127.0.0.1</code>. This pattern, standardized in <a href="https://www.rfc-editor.org/rfc/rfc8252.html" target="_blank" rel="noreferrer">RFC 8252</a> (OAuth 2.0 for Native Apps), provides several benefits:</p><ul><li><strong>No public exposure</strong>: The callback server only accepts local connections</li><li><strong>Dynamic ports</strong>: Apps can use any available port (e.g., 3000, 8080)</li><li><strong>Automatic cleanup</strong>: The server shuts down immediately after receiving the callback</li><li><strong>Universal support</strong>: Works across all platforms without special permissions</li></ul><p>Here&#39;s how the flow works:</p><div class="mermaid"></div><h3 id="security-best-practices" tabindex="-1">Security Best Practices <a class="header-anchor" href="#security-best-practices" aria-label="Permalink to &quot;Security Best Practices&quot;">‚Äã</a></h3><p>OAuth 2.0 for native apps requires additional security measures:</p><p><strong>Proof Key for Code Exchange (PKCE)</strong> - <a href="https://www.rfc-editor.org/rfc/rfc7636.html" target="_blank" rel="noreferrer">RFC 7636</a> mandates using PKCE for public clients (those without client secrets). PKCE prevents authorization code interception attacks by binding the code exchange to a cryptographic challenge.</p><div class="mermaid"></div><p><strong>State Parameter</strong> - A random value that prevents CSRF attacks. Your app generates this value, includes it in the authorization request, and validates it in the callback.</p><p><strong>Dynamic Client Registration (DCR)</strong> - <a href="https://www.rfc-editor.org/rfc/rfc7591.html" target="_blank" rel="noreferrer">RFC 7591</a> allows apps to register OAuth clients on-the-fly without pre-configuration. This is particularly useful for MCP servers where users shouldn&#39;t need to manually register OAuth applications.</p><h2 id="how-oauth-callback-solves-it" tabindex="-1">How OAuth Callback Solves It <a class="header-anchor" href="#how-oauth-callback-solves-it" aria-label="Permalink to &quot;How OAuth Callback Solves It&quot;">‚Äã</a></h2><p>OAuth Callback eliminates the boilerplate of implementing loopback redirects. Instead of manually managing servers, ports, and browser launches, you get a complete solution in one function call.</p><h3 id="core-functionality" tabindex="-1">Core Functionality <a class="header-anchor" href="#core-functionality" aria-label="Permalink to &quot;Core Functionality&quot;">‚Äã</a></h3><p>The library handles the entire OAuth callback flow:</p><ol><li><strong>Starts a localhost HTTP server</strong> on your specified port</li><li><strong>Opens the user&#39;s browser</strong> to the authorization URL</li><li><strong>Captures the callback</strong> with the authorization code</li><li><strong>Returns the result</strong> as a clean JavaScript object</li><li><strong>Shuts down the server</strong> automatically</li></ol><h3 id="zero-configuration-example" tabindex="-1">Zero Configuration Example <a class="header-anchor" href="#zero-configuration-example" aria-label="Permalink to &quot;Zero Configuration Example&quot;">‚Äã</a></h3><p>Here&#39;s a complete OAuth flow in just 6 lines:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { getAuthCode } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;oauth-callback&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getAuthCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line highlighted"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;https://github.com/login/oauth/authorize?client_id=xxx&amp;redirect_uri=http://localhost:3000/callback&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Authorization code:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.code);</span></span></code></pre></div><p>That&#39;s it. No server setup, no browser management, no cleanup code.</p><h3 id="cross-runtime-support" tabindex="-1">Cross-Runtime Support <a class="header-anchor" href="#cross-runtime-support" aria-label="Permalink to &quot;Cross-Runtime Support&quot;">‚Äã</a></h3><p>OAuth Callback uses modern Web Standards APIs (Request, Response, URL) that work identically across:</p><ul><li><strong>Node.js 18+</strong> - Native fetch and Web Streams support</li><li><strong>Deno</strong> - First-class Web Standards implementation</li><li><strong>Bun</strong> - High-performance runtime with built-in APIs</li></ul><p>This means your OAuth code is portable across runtimes without modifications.</p><h3 id="mcp-integration" tabindex="-1">MCP Integration <a class="header-anchor" href="#mcp-integration" aria-label="Permalink to &quot;MCP Integration&quot;">‚Äã</a></h3><p>For Model Context Protocol applications, OAuth Callback provides the <code>browserAuth()</code> provider that integrates seamlessly with the MCP SDK:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-u9ni2" id="tab-c1coD4E" checked><label data-title="MCP with OAuth Callback" for="tab-c1coD4E">MCP with OAuth Callback</label><input type="radio" name="group-u9ni2" id="tab-s3p1jcS"><label data-title="Namespace Import" for="tab-s3p1jcS">Namespace Import</label></div><div class="blocks"><div class="language-typescript vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { browserAuth, fileStore } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;oauth-callback/mcp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Client } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@modelcontextprotocol/sdk/client/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { StreamableHTTPClientTransport } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@modelcontextprotocol/sdk/client/streamableHttp.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> authProvider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> browserAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  store: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fileStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Persist tokens to ~/.mcp/tokens.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scope: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;read write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Use directly with MCP transports</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> transport</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StreamableHTTPClientTransport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://mcp.example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { authProvider },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mcp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;oauth-callback&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Client } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@modelcontextprotocol/sdk/client/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> authProvider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">browserAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  store: mcp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fileStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scope: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;read write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div></div></div><div class="tip custom-block"><p class="custom-block-title">MCP Integration Features</p><p>The MCP integration handles:</p><ul><li><strong>Dynamic Client Registration</strong> when supported by the server</li><li><strong>Token persistence</strong> with <code>fileStore()</code> or ephemeral <code>inMemoryStore()</code></li><li><strong>Automatic token refresh</strong> when tokens expire</li><li><strong>Multiple app namespace support</strong> via <code>storeKey</code> option</li></ul></div><h2 id="when-to-use-oauth-callback" tabindex="-1">When to Use OAuth Callback <a class="header-anchor" href="#when-to-use-oauth-callback" aria-label="Permalink to &quot;When to Use OAuth Callback&quot;">‚Äã</a></h2><h3 id="perfect-for" tabindex="-1">Perfect For <a class="header-anchor" href="#perfect-for" aria-label="Permalink to &quot;Perfect For&quot;">‚Äã</a></h3><p>OAuth Callback is ideal when:</p><ul><li><strong>You control the user&#39;s machine</strong> - CLI tools, desktop apps, development tools</li><li><strong>You can open a browser</strong> - The user has a default browser configured</li><li><strong>You need quick setup</strong> - No server infrastructure or complex configuration</li><li><strong>You&#39;re building MCP clients</strong> - Direct integration with Model Context Protocol SDK</li></ul><h3 id="consider-alternatives-when" tabindex="-1">Consider Alternatives When <a class="header-anchor" href="#consider-alternatives-when" aria-label="Permalink to &quot;Consider Alternatives When&quot;">‚Äã</a></h3><p><strong>Device Authorization Flow</strong> (<a href="https://www.rfc-editor.org/rfc/rfc8628.html" target="_blank" rel="noreferrer">RFC 8628</a>) might be better if:</p><ul><li><strong>No browser access</strong> - SSH sessions, headless servers, CI/CD environments</li><li><strong>Remote terminals</strong> - The auth happens on a different device than the app</li><li><strong>Input-constrained devices</strong> - Smart TVs, IoT devices without keyboards</li></ul><p>The Device Flow shows a code to the user that they enter on another device, eliminating the need for a browser on the same machine. However, it requires OAuth provider support and a more complex user experience.</p><div class="mermaid"></div><h2 id="security-considerations" tabindex="-1">Security Considerations <a class="header-anchor" href="#security-considerations" aria-label="Permalink to &quot;Security Considerations&quot;">‚Äã</a></h2><p>OAuth Callback implements security best practices by default:</p><div class="info custom-block"><p class="custom-block-title">Security Features</p><ul><li><strong>Localhost-only binding</strong> - The callback server only accepts connections from <code>127.0.0.1</code> or <code>::1</code>, preventing remote access attempts.</li><li><strong>Automatic cleanup</strong> - The HTTP server shuts down immediately after receiving the callback, minimizing the attack surface window.</li><li><strong>No persistent state</strong> - Server is ephemeral and leaves no traces after completion.</li></ul></div><div class="warning custom-block"><p class="custom-block-title">Always Validate State</p><p>Always validate the <code>state</code> parameter returned in the callback matches what you sent:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">randomUUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> authUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `https://example.com/authorize?state=${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&amp;...`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getAuthCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(authUrl);</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state) {</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;State mismatch - possible CSRF attack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div><details class="details custom-block"><summary>Proof Key for Code Exchange (PKCE) Implementation</summary><p>For public clients, implement Proof Key for Code Exchange as required by <a href="https://www.rfc-editor.org/rfc/rfc7636.html" target="_blank" rel="noreferrer">RFC 7636</a>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createHash, randomBytes } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;crypto&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> verifier</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> randomBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;base64url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> challenge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createHash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sha256&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(verifier).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;base64url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Include challenge in authorization request</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> authUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `https://example.com/authorize?code_challenge=${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">challenge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&amp;code_challenge_method=S256&amp;...`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Include verifier in token exchange</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tokenResponse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tokenUrl, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;POST&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URLSearchParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    code: result.code,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    code_verifier: verifier,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... other parameters</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div></details><p><strong>Token storage choices</strong> - Choose storage based on your security requirements:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-8K0kR" id="tab-xCpLHqA" checked><label data-title="Ephemeral Storage" for="tab-xCpLHqA">Ephemeral Storage</label><input type="radio" name="group-8K0kR" id="tab-NAgXPzn"><label data-title="Persistent Storage" for="tab-NAgXPzn">Persistent Storage</label></div><div class="blocks"><div class="language-typescript vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Tokens lost on restart (more secure)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { browserAuth, inMemoryStore } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;oauth-callback/mcp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> authProvider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> browserAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  store: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">inMemoryStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Tokens saved to disk (convenient)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { browserAuth, fileStore } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;oauth-callback/mcp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> authProvider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> browserAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  store: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fileStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;~/.myapp/tokens.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div></div></div><h2 id="requirements-and-registration" tabindex="-1">Requirements and Registration <a class="header-anchor" href="#requirements-and-registration" aria-label="Permalink to &quot;Requirements and Registration&quot;">‚Äã</a></h2><h3 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">‚Äã</a></h3><details class="details custom-block"><summary>System Requirements</summary><table tabindex="0"><thead><tr><th>Requirement</th><th>Details</th></tr></thead><tbody><tr><td><strong>Runtime</strong></td><td>Node.js 18+, Deno, or Bun</td></tr><tr><td><strong>OAuth Application</strong></td><td>Register your app with the OAuth provider</td></tr><tr><td><strong>Redirect URI</strong></td><td>Configure <code>http://localhost:3000/callback</code> (or your chosen port)</td></tr><tr><td><strong>Browser</strong></td><td>User must have a default browser configured</td></tr><tr><td><strong>Permissions</strong></td><td>Ability to bind to localhost ports</td></tr></tbody></table></details><h3 id="standard-oauth-registration" tabindex="-1">Standard OAuth Registration <a class="header-anchor" href="#standard-oauth-registration" aria-label="Permalink to &quot;Standard OAuth Registration&quot;">‚Äã</a></h3><p>Most OAuth providers require pre-registering your application:</p><ol><li>Create an OAuth app in the provider&#39;s developer console</li><li>Set redirect URI to <code>http://localhost:3000/callback</code></li><li>Copy your client ID (and secret if provided)</li><li>Use credentials in your code</li></ol><h3 id="dynamic-client-registration-for-mcp" tabindex="-1">Dynamic Client Registration for MCP <a class="header-anchor" href="#dynamic-client-registration-for-mcp" aria-label="Permalink to &quot;Dynamic Client Registration for MCP&quot;">‚Äã</a></h3><p>Some MCP servers support Dynamic Client Registration (<a href="https://www.rfc-editor.org/rfc/rfc7591.html" target="_blank" rel="noreferrer">RFC 7591</a>), eliminating pre-registration:</p><div class="tip custom-block"><p class="custom-block-title">No Pre-Registration Required</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// No client_id or client_secret needed!</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> authProvider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> browserAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scope: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;read write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  store: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fileStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div></div><p>The Notion MCP example demonstrates this ‚Äî the server automatically registers your client on first use. This greatly simplifies distribution of MCP-enabled tools.</p><div class="mermaid"></div></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/kriasoft/oauth-callback/edit/main/docs/what-is-oauth-callback.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><!----></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/oauth-callback/getting-started.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Getting Started</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright ¬© 2025-present Konstantin Tarkus</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"OgeWQRHW\",\"api_browser-auth.md\":\"CLr3O9mP\",\"api_get-auth-code.md\":\"B8Ig0jml\",\"api_index.md\":\"DDMA2wbt\",\"api_oauth-error.md\":\"Cw32QZDH\",\"api_storage-providers.md\":\"CfN9XF_B\",\"api_types.md\":\"B_rAE3ke\",\"core-concepts.md\":\"SWzQrO5g\",\"examples_index.md\":\"BSWa2rCx\",\"examples_linear.md\":\"DAIXnOrx\",\"examples_notion.md\":\"C7X7-uHd\",\"getting-started.md\":\"BHRaeQYN\",\"index.md\":\"CfwGoqwg\",\"markdown-examples.md\":\"DqsenyTr\",\"what-is-oauth-callback.md\":\"hB3k2QdK\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"üîê ¬†OAuth Callback\",\"description\":\"OAuth 2.0 callback handler for CLI tools & desktop apps. Cross-runtime (Node.js/Deno/Bun), MCP SDK integration, minimal deps, TypeScript-first.\",\"base\":\"/oauth-callback/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Guide\",\"link\":\"/getting-started\"},{\"text\":\"API\",\"link\":\"/api/get-auth-code\"},{\"text\":\"Examples\",\"link\":\"/examples/notion\"},{\"text\":\"v1.2.0\",\"items\":[{\"text\":\"Release Notes\",\"link\":\"https://github.com/kriasoft/oauth-callback/releases\"},{\"text\":\"npm\",\"link\":\"https://www.npmjs.com/package/oauth-callback\"}]}],\"sidebar\":[{\"text\":\"Introduction\",\"items\":[{\"text\":\"What is OAuth Callback?\",\"link\":\"/what-is-oauth-callback\"},{\"text\":\"Getting Started\",\"link\":\"/getting-started\"},{\"text\":\"Core Concepts\",\"link\":\"/core-concepts\"}]},{\"text\":\"API Reference\",\"items\":[{\"text\":\"getAuthCode\",\"link\":\"/api/get-auth-code\"},{\"text\":\"browserAuth\",\"link\":\"/api/browser-auth\"},{\"text\":\"Storage Providers\",\"link\":\"/api/storage-providers\"},{\"text\":\"OAuthError\",\"link\":\"/api/oauth-error\"},{\"text\":\"TypeScript Types\",\"link\":\"/api/types\"}]},{\"text\":\"Examples\",\"items\":[{\"text\":\"Notion MCP\",\"link\":\"/examples/notion\"},{\"text\":\"Linear MCP\",\"link\":\"/examples/linear\"}]}],\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/kriasoft/oauth-callback/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/kriasoft/oauth-callback\"},{\"icon\":\"npm\",\"link\":\"https://www.npmjs.com/package/oauth-callback\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/bSsv7XM\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright ¬© 2025-present Konstantin Tarkus\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>